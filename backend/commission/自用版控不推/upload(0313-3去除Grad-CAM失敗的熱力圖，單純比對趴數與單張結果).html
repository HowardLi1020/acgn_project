{% extends '[BASE]ALL.html' %}
{% load static %} 
{% block app_css %}
<style>
/* 隱藏頂端列 */
.app-header-inner {
    display: none;
}
/* 取消主板 .app 的 padding-top 設置 */
.app {
    padding-top: 0 !important;
}

.upload-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.upload-title {
    color: #0066cc;
    margin-bottom: 25px;
    text-align: center;
    font-size: 24px;
}

.upload-description {
    margin-bottom: 30px;
    color: #555;
    font-size: 16px;
    line-height: 1.6;
}

.upload-form {
    background-color: #f9f9f9;
    padding: 25px;
    border-radius: 5px;
    margin-bottom: 20px;
}

.upload-input-group {
    margin-bottom: 20px;
}

.upload-btn {
    background-color: #0066cc;
    border: none;
    color: white;
    padding: 10px 20px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
}

.upload-btn:hover {
    background-color: #004c99;
}

.feature-section {
    margin-top: 40px;
}

.feature-title {
    color: #333;
    margin-bottom: 15px;
    font-size: 18px;
}

.feature-list {
    list-style-type: none;
    padding: 0;
}

.feature-item {
    padding: 12px 0;
    border-bottom: 1px solid #eee;
    display: flex;
    align-items: center;
}

.feature-icon {
    margin-right: 15px;
    color: #0066cc;
    font-size: 18px;
}

.error-message {
    padding: 15px;
    background-color: #fee;
    border-left: 5px solid #f55;
    margin-bottom: 20px;
    border-radius: 5px;
}
</style>
{% endblock %}

{% block app_title %}
<!-- 直接打文字即可替換各自應用程式的標題 -->
AI 圖片比對
{% endblock %} 

{% block app_content %}
<div class="container mt-4">
    <div class="upload-container">
        <h2 class="upload-title">AI 圖片相似度比對</h2>
        
        <div class="upload-description">
            <p>上傳一張圖片，使用人工智能技術尋找資料庫中最相似的圖片。我們的系統使用 OpenAI 的 CLIP 模型，能夠理解圖像的深層語義，而不僅僅是基於表面的視覺相似性。</p>
        </div>
        
        {% if error_message %}
        <div class="error-message">
            <h3>處理過程中發生錯誤：</h3>
            <p>{{ error_message }}</p>
            <p>請嘗試上傳其他圖片或聯繫管理員。</p>
        </div>
        {% endif %}
        
        <div class="upload-form">
            <form action="{% url 'commission:Urls_upload_compare' %}" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="upload-input-group">
                    <label for="image" class="form-label">選擇要比對的圖片：</label>
                    <input class="form-control" type="file" id="image" name="image" accept="image/*" required>
                </div>
                <button type="submit" class="upload-btn">開始比對</button>
            </form>
        </div>
        
        <div class="feature-section">
            <h3 class="feature-title">功能介紹</h3>
            <ul class="feature-list">
                <li class="feature-item">
                    <span class="feature-icon"><i class="fas fa-search"></i></span>
                    <span>使用先進的 CLIP 人工智能模型比對圖片相似度</span>
                </li>
                <li class="feature-item">
                    <span class="feature-icon"><i class="fas fa-bolt"></i></span>
                    <span>快速計算並顯示相似度百分比</span>
                </li>
                <li class="feature-item">
                    <span class="feature-icon"><i class="fas fa-list-ol"></i></span>
                    <span>顯示多個最相似的結果選項</span>
                </li>
                <li class="feature-item">
                    <span class="feature-icon"><i class="fas fa-check-circle"></i></span>
                    <span>檢測相同或極為相似的圖片</span>
                </li>
            </ul>
        </div>
        
        {% if work %}
        <div class="alert alert-info mt-4">
            <p>您正在為作品 <strong>{{ work.work_title }}</strong> 進行圖片比對。完成比對後，您可以返回作品頁面。</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block app_script %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // 初始化代碼
});
</script>
{% endblock %}
